<div style="margin-left: 10px; margin-right: 10px; margin-top: 55px;">
  <tabset #staticTabs>
    <tab customClass="tab-shng" heading="{{ 'LOGICS.USERLOGICS'|translate }}">
      <div style="margin-left: 10px; margin-right: 10px;">
        <p></p>
        <table id="1" class="table table-striped table-hover">
        <thead>
        <tr class="shng_heading">
          <th style="width: 30px; border-top:0;"></th>
          <th class="p-1" style="width: 350px; border-top: 0;">{{ 'LOGICS.LOGIC'|translate }}</th>
          <th class="p-1" style="width: 220px; border-top: 0;">{{ 'LOGICS.NEXT_EXEC'|translate }}</th>
          <th class="p-1" style="width: 70px;  border-top: 0;">{{ 'LOGICS.CYCLE'|translate }}</th>
          <th class="p-1" style="width: 150px; border-top: 0;">{{ 'LOGICS.CRONTAB'|translate }}</th>
          <th class="p-1" style="width: 70px;  border-top: 0;">{{ 'LOGICS.WATCH_ITEMS'|translate }}</th>
          <th class="p-1" style="width: 250px; border-top: 0;">{{ 'LOGICS.FILENAME'|translate }}</th>
          <th class="p-1" style="width: 260px; border-top: 0;">{{ 'LOGICS.ACTIONS'|translate }}</th>
        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let logic of logicsinfo">
          <ng-container *ngIf="logic.userlogic === true">
            <tr>
              <td class="p-1 pl-2">
                <ng-container *ngIf="logic.enabled === true, then logicEnabled; else logicDisabled"></ng-container>
                <ng-template #logicEnabled>
                  <span style="color: green;" class="fas fa-play-circle"></span>
                </ng-template>
                <ng-template #logicDisabled>
                  <span style="color: red" class="fas fa-pause-circle"></span>
                </ng-template>
              </td>
              <td class="p-1">{{ logic.name }}</td>
              <td class="p-1">{{ logic.next_exec }}</td>
              <td class="p-1">{{ logic.cycle }}</td>
              <td class="p-1">{{ logic.crontab }}</td>
              <ng-container *ngIf="logic.watch_item_list?.length > 0">
                <td style="cursor: pointer;">
                  <ng-container *ngIf="logic.enabled; then watchItemSizeEnabled; else watchItemSizeDisabled"></ng-container>
                    <ng-template #watchItemSizeEnabled>
                      <span>
                        {{ logic.watch_item_list?.length }}
                        <span class="fas fa-arrow-circle-down"></span>
                      </span>
                    </ng-template>
                    <ng-template #watchItemSizeDisabled>
                      <span style="color:#bbb;">
                        {{ logic.watch_item_list?.length }}
                        <span class="fas fa-arrow-circle-down" style="color: #ddd;"></span>
                      </span>
                    </ng-template>
                </td>
              </ng-container>
              <ng-container *ngIf="logic.watch_item_list?.length === 0">
                <td class="p-1">-</td>
              </ng-container>
              <td class="p-1">
                <ng-container *ngIf="logic.logictype === 'Blockly'; then blocklyLink; else noBlocklyLink">
                </ng-container>
                <ng-template #blocklyLink></ng-template>
                <ng-template #noBlocklyLink>
                  <a class="text-shng" href="logics_view.html?file_path={{ logic.pathname }}&logicname={{ logic.name }}">{{ logic.filename }}</a>
                </ng-template>
              </td>
              <td class="p-1">
                <ng-container *ngIf="logic.enabled; then logicEnabledActions; else logicDisabledActions"></ng-container>
                  <ng-template #logicEnabledActions>
                    <button name="trigger" title="{{ 'LOGICS.TRIGGER'|translate }}" class="btn btn-outline-dark btn-sm"><i class="fas fa-hand-pointer"></i></button>
                    <button name="reload"  title="{{ 'LOGICS.RELOAD'|translate }}" class="btn btn-outline-dark btn-sm"><i class="fas fa-sync"></i></button>
                    <button name="disable" title="{{ 'LOGICS.DISABLE'|translate }}" class="btn btn-outline-dark btn-sm"><i class="fas fa-pause"></i></button>
                  </ng-template>
                  <ng-template #logicDisabledActions>
                    <button disabled="true" name="trigger" title="{{ 'LOGICS.TRIGGER'|translate }}" class="btn btn-outline-dark btn-sm"><i class="fas fa-hand-pointer"></i></button>
                    <button name="reload"  title="{{ 'LOGICS.RELOAD'|translate }}" class="btn btn-outline-dark btn-sm"><i class="fas fa-sync"></i></button>
                    <button name="enable"  title="{{ 'LOGICS.ENABLE'|translate }}" class="btn btn-outline-dark btn-sm"><i class="fas fa-play"></i></button>
                  </ng-template>
              </td>
            </tr>
          </ng-container>
        </ng-container>
        <ng-container *ngIf="newlogicsinfo?.length >0">
          <tr><th colspan="8">{{ 'LOGICS.NEW_LOGICS'|translate }}</th><tr>
        </ng-container>
        <ng-container *ngFor="let logic of newlogicsinfo">
          <ng-container *ngIf="logic.userlogic === true">
            <tr>
              <td class="p-1 pl-2">
                <ng-container *ngIf="logic.enabled === true, then logicEnabled; else logicDisabled"></ng-container>
                <ng-template #logicEnabled>
                  <span style="color: green;" class="fas fa-play-circle"></span>
                </ng-template>
                <ng-template #logicDisabled>
                  <span style="color: red" class="fas fa-pause-circle"></span>
                </ng-template>
              </td>
              <td class="p-1">{{ logic.name }}</td>
              <td class="p-1"></td>
              <td class="p-1"></td>
              <td class="p-1"></td>
              <td class="p-1"></td>
              <td class="p-1">
                <ng-container *ngIf="logic.logictype === 'Blockly'; then blocklyLink; else noBlocklyLink">
                </ng-container>
                <ng-template #blocklyLink></ng-template>
                <ng-template #noBlocklyLink>
                  <a class="text-shng" href="logics_view.html?file_path={{ logic.pathname }}&logicname={{ logic.name }}">{{ logic.filename }}</a>
                </ng-template>
              </td>
              <td class="p-1">
              </td>
            </tr>
          </ng-container>
        </ng-container>
        </tbody>
      </table>
      </div>
    </tab>

    <tab customClass="tab-shng" heading="{{ 'LOGICS.SYSTEMLOGICS'|translate }}">
      <div style="margin-left: 10px; margin-right: 10px;">
        <p></p>
        <table id="2" class="table table-striped table-hover">
          <thead>
          <tr class="shng_heading">
            <th style="width: 30px; border-top: 0"></th>
            <th class="p-1" style="width: 150px; border-top: 0">{{ 'LOGICS.LOGIC'|translate }}</th>
            <th class="p-1" style="width: 200px; border-top: 0">{{ 'LOGICS.NEXT_EXEC'|translate }}</th>
            <th class="p-1" style="width: 250px; border-top: 0">{{ 'LOGICS.CYCLE'|translate }}</th>
            <th class="p-1" style="width: 160px; border-top: 0">{{ 'LOGICS.CRONTAB'|translate }}</th>
            <th class="p-1" style="width: 150px; border-top: 0">{{ 'LOGICS.WATCH_ITEMS'|translate }}</th>
            <th class="p-1" style="width: 120px; border-top: 0">{{ 'LOGICS.FILENAME'|translate }}</th>
            <th class="p-1" style="width: 40px;  border-top: 0;" >{{ 'LOGICS.ACTIONS'|translate }}</th>
          </tr>
          </thead>
          <tbody>
          <ng-container *ngFor="let logic of logicsinfo">
            <ng-container *ngIf="logic.userlogic === false">
              <tr>
                <td class="p-1 pl-2">
                  <ng-container *ngIf="logic.enabled === true, then logicEnabled; else logicDisabled"></ng-container>
                  <ng-template #logicEnabled>
                    <span style="color: green;" class="fas fa-play-circle"></span>
                  </ng-template>
                  <ng-template #logicDisabled>
                    <span style="color: red" class="fas fa-pause-circle"></span>
                  </ng-template>
                </td>
                <td class="p-1">{{ logic.name }}</td>
                <td class="p-1">{{ logic.next_exec }}</td>
                <td class="p-1">{{ logic.cycle }}</td>
                <td class="p-1">{{ logic.crontab }}</td>
                <td class="p-1"></td>
                <td class="p-1">{{ logic.filename }}</td>
                <td></td>
              </tr>
            </ng-container>
          </ng-container>
          </tbody>
        </table>
      </div>
    </tab>
  </tabset>
</div>
